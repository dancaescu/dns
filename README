MyDNS - SQL-based DNS server

This is the MyDNS package.  MyDNS is a simple, non-recursive Internet
name daemon which serves records directly from an SQL database.  It
currently works with either MySQL or PostgreSQL.

This fork continues that lineage and adds the following modernisations:
(Maintained by Dan Caescu <dan.caescu@multitel.net> – 18-Nov-2025)

  * **Cloudflare mirror support** – the daemon can now read zones and records
    from the `cloudflare_*` tables alongside the classic `soa/rr`
    tables. When both are configured it merges the datasets, so this fork
    can act as a hot standby for Cloudflare-hosted domains while still
    serving any legacy zones that live in the MyDNS schema. New config
    keys (`cloudflare-soa-table`, `cloudflare-rr-table`,
    `cloudflare-default-ns`, `cloudflare-default-mbox`) control this
    behaviour.
  * **Texinfo 6.8 compatibility** – building the documentation no longer
    fails on modern distros; we ship a patched GNU FDL appendix so
    `makeinfo` completes without workarounds.
  * **Tested MySQL build/install flow** – bootstrap/configure/build steps
    were refreshed for current Debian/Ubuntu systems, including sample
    configs under `/etc/mydns/` and init/systemd units in `debian/`.
  * **Cloudflare automation** – credentials for API-driven tooling now
    live in `cloudflare.ini` (ignored from commits unless intentionally
    populated); upcoming scripts will reuse this file.
  * **IPv6-aware tools** – the AXFR importer and utilities now use
    modern socket APIs so they can reach IPv4 or IPv6 masters.  Example:
    `mydnsimport -o -a [::1]+5400 example.com` runs an IPv6 transfer for
    a locally reachable test server.
  * **Multi-host MySQL failover** – `db-host2`..`db-host4` plus
    `db-host-policy` let you describe up to four SQL servers and choose
    between sequential, round-robin, or least-used selection. The daemon
    and utilities automatically fall back to the next host when a
    connection fails (currently up to four hosts per config).
  * **LOC (RFC 1876) records** – textual LOC data in the `rr` table is
    now parsed and emitted in the correct binary format, so geographic
    coordinates work just like in BIND zone files.
  * **NRPE monitoring helper** – `contrib/check_mydns.py` checks database
    connectivity, process health, and DNS responses for Nagios/Icinga.

You can still find the original package at:

     http://mydns.bboy.net/

This repository (https://github.com/dancaescu/dns) tracks the
above additions and any further Multitel-specific improvements.

MySQL has a homepage on the WWW at the following URL:

     http://www.mysql.com/

PostgreSQL has a homepage on the WWW at the following URL:

     http://www.postgresql.org/

Code contributions and input are appreciated.  See the TODO file for a
list of things that need to be done.

MyDNS allows internationalization via GNU gettext.  Translations
are encouraged and gladly accepted.

If you are looking for the web interface for MyDNS, it's included in
the MyDNS distribution as contrib/admin.php.  See contrib/README for
installation instructions.


## Project History

- **12-May-2004 – 18-Jan-2006**
  Don Moore <bboy@bboy.net>
  Original author and maintainer of MyDNS through version 1.1.0

- **23-Jan-2009 – 26-Mar-2009**
  Howard Wilkinson <howard@cohtech.com>
  Maintained MyDNS-NG versions 1.2.8.18 through 1.2.8.27

- **18-Nov-2025 – present**
  Dan Caescu <dan.caescu@multitel.net>
  Current maintainer from version 1.2.8.30 onwards, adding Cloudflare
  integration, IPv6 support, MySQL failover, and modern build tooling
